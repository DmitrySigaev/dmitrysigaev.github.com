title: Описание служебной программы Diskpart с интерфейсом командной строки
date: 2015-10-12 21:44:17
tags: Diskpart
---
Информация взята с сайта https://support.microsoft.com/ru-ru/kb/

# Аннотация

В данной статье рассматривается служебная программа Diskpart, предназначенная для настройки параметров запоминающих устройств с помощью сценария, удаленного сеанса или другой командной строки. Программа является расширением графического интерфейса компонента "Администратор дисков".

# Дополнительная информация

Отличие программы Diskpart от многих других служебных программ с интерфейсом командной строки заключается в том, что она выполняется не в однострочном режиме, а считывает команды из стандартного ввода-вывода. Такие команды могут относиться к любому диску, разделу или тому.

# Сравнение с оснасткой "Управление дисками"

Программа Diskpart позволяет выполнять расширенный набор действий, поддерживаемых оснасткой "Управление дисками". Оснастка "Управление дисками" защищает данные на диске путем блокирования действий, которые могут привести к их повреждению. Будьте внимательны, используя программу Diskpart, поскольку она предоставляет явный контроль над разделами и томами!

Программа Diskpart позволяет преобразовать базовый диск в динамический. При этом базовый диск может быть пустым, содержать основные разделы или логические диски, являться диском с данными, системным или загрузочным диском, но не должен иметь в своем составе отказоустойчивых наборов (FtDisk), например чередующихся или зеркальных наборов. Для преобразования базовых дисков, которые содержат наборы FtDisk, следует использовать оснастку "Управление дисками" из состава Windows 2000 или преобразовать диск перед обновлением до Windows XP.

С помощью программы Diskpart можно преобразовать динамический диск в базовый. До начала преобразования необходимо удалить все динамические тома. Кроме случаев крайней необходимости, удалять разделы на динамических дисках не рекомендуется. Перед преобразованием диска в базовый рекомендуется удалить на нем все тома. Удалите все динамические разделы с данными. Не используйте динамические разделы и основной базовый раздел на одном диске — в этом случае компьютер может не загрузиться. 

Программа Diskpart позволяет создавать на диске разделы со смещением. Оснастка "Управление дисками" всегда размещает раздел в конце любой занятой области или первой обнаруженной области достаточного размера. На дисках с основной загрузочной записью (MBR) смещение и размер раздела округляются для сохранения требуемой конфигурации цилиндров до ближайшего действительного значения (размер — с повышением). Программа Diskpart не присваивает букву диска созданному разделу. Назначить букву диска или точку подключения можно с помощью команды assign.

Подобно оснастке "Управление дисками", программа Diskpart создает динамические диски только на несъемных жестких дисках и не позволяет преобразовывать съемные диски (например, диски USB или 1394) в динамические.

С помощью программы Diskpart можно выполнить некоторые операции по удалению разделов, которые блокируются оснасткой "Управление дисками" (например, удалить MBR-диск OEM). Однако такие разделы часто содержат файлы, необходимые для обеспечения работы платформы в целом. Программа Diskpart блокирует удаление текущих системных и загрузочных томов и разделов, томов и разделов, содержащих файл подкачки, а также разделов, которые лежат в основе динамических дисков.

С помощью программы Diskpart невозможно создать раздел на съемном носителе. Операционные системы Windows поддерживают на съемных носителях не более одного раздела с MBR. Если носитель изготовлен с основной загрузочной записью, ее невозможно изменить, однако эта запись соблюдается, даже если настроено несколько разделов или логических дисков. В противном случае, если носитель изготовлен без основной загрузочной записи, он рассматривается в качестве диска в формате "superfloppy" и не содержит структуры разделов

Буква сопоставляется не самому съемному носителю, а диску и может быть изменена с помощью программы Diskpart.

Запуск программы Diskpart приводит к созданию подписей дисков, идентификаторов GUID для дисков с таблицей разделов GPT и для GPT-разделов, однако эти значения невозможно установить явно.

Подобно оснастке "Управление дисками", программа Diskpart поддерживает новую схему Itanium разбиения дисков на разделы под названием GPT. GPT-диски не могут быть использованы на компьютерах с архитектурой x86 под управлением Windows XP или Windows 2000. Программа Diskpart позволяет преобразовывать разбиение диска по схеме GPT в формат MBR только на пустых дисках.

С помощью программы Diskpart можно удалять отсутствующие динамические диски. Динамические диски содержат в своем составе общую базу данных, и поэтому каждый динамический диск имеет сведения об остальных динамических дисках на конкретном компьютере. В случае перемещения динамического диска исходный компьютер считает его отсутствующим.

Программа Diskpart не назначает буквы дисков для разделов и томов автоматически — это необходимо сделать вручную, указав букву самостоятельно или приняв следующую доступную букву.

# Установка фокуса

Большинство команд Diskpart выполняются по отношению к определенному диску, разделу или тому. Такой целевой объект находится "в фокусе". Установка фокуса упрощает выполнение стандартных задач настройки, предполагающих создание нескольких разделов на одном диске. Для помещения объекта в фокус служит команда select. Установка фокуса требуется для выполнения всех команд (за исключением list, help, rem, exit и help). 

Чтобы переместить фокус явно, используется команда select. Кроме того, с помощью некоторых команд, например create, это может быть сделано неявно. Перед выполнением действий с базовым диском необходимо переместить на него фокус. На базовом диске выбранный раздел и выбранный том — это одно и то же. Перемещение одного из фокусов автоматически приводит к перемещению фокуса другого объекта. На динамическом томе значение имеет только фокус тома, поскольку предыдущий фокус раздела всегда теряется, а фокус диска важен только для простых томов. 

Рассмотрим следующие примеры компьютера с двумя дисками.
- Каждый диск содержит два основных раздела: первый диск — разделы C и D, а второй — E и F. Перед тем как поместить в фокус раздел C или D, необходимо установить фокус на диск 1. Фокус тома всегда можно установить на раздел C, D, E или F. В данном примере установка фокуса тома на раздел C или D не приводит к изменению фокуса диска, но в случае установки фокуса тома на раздел E или F фокус будет смещен на другой диск.
- Каждый диск является динамическим и содержит простой том, а также свободное пространство определенного объема. На первом диске расположен раздел С, а на втором — раздел Е. Перед добавлением простого тома на первом диске необходимо установить фокус диска. Для расширения раздела С достаточно установить фокус тома. Аналогично, чтобы добавить зеркальный том к разделу Е, необходимо только установить на этот раздел фокус тома. В случае создания простого тома или расширения существующего тома в пределах того же диска менять фокус диска не нужно. Добавление зеркального тома, создание чередующегося набора или расширение существующего тома за пределы одного диска приводит к потере диском фокуса.

# Сценарии

Программа Diskpart поддерживает выполнение сценариев. Для запуска сценария служит команда diskpart /s script.txt. Сценарии Diskpart могут быть запущены в среде Windows XP, Windows 2000, в случае автоматической установки с помощью служб удаленной установки (RIS), а также в среде предварительной установки Windows для OEM.

По умолчанию программа Diskpart прерывает обработку команд и возвращает код ошибки в случае возникновения проблемы с выполнением сценария. Чтобы изменить такое поведение (сценарий продолжает выполняться даже после появления ошибки), необходимо включить в команду параметр noerr. Это параметр позволяет с помощью одного сценария удалить все разделы на всех дисках с данными, независимо от общего числа дисков. Однако параметр noerr поддерживается не всеми командами. Кроме того, даже если используется параметр noerr, код ошибки возвращается в случае наличия ошибки в синтаксисе команды.

Коды ошибок, возвращаемые программой Diskpart:
- 0 — успешное завершение операции, сценарий выполнен без ошибок;
- 1 — неустранимая ошибка, возможны серьезные неполадки;
- 2 — в командной строке Diskpart указаны неверные аргументы;
- 3 — программе DiskPart не удалось открыть указанный сценарий или выходной файл;
- 4 — сбой в одной из служб, использованных программой DiskPart;
- 5 — ошибка в синтаксисе команды, сценарий не выполнен, поскольку объект выбран неправильно или не может быть использован с данной командой.
После выполнения программы Diskpart отображается ее версия и текущее имя компьютера.

# Обзор команд

Перемещение фокуса на объект
```
select
```
Команда select служит для установки фокуса на определенный объект. Чтобы отобразить список типов фокусов, запустите команду select без параметров. Если не указать идентификатор, будет отображен текущий выбранный объект.
```
select disk[=n]
```
Команда select disk служит для помещения в фокус диска Windows NT с указанным номером. Если не указать номер диска, будет отображен текущий выбранный диск.
```
select partition[=n/l]
```
Команда select partition служит для установки фокуса на определенный раздел. Если не указать раздел, будет отображен текущий выбранный раздел.

На базовом диске раздел можно указать по индексу, букве диска или точке подключения, а на динамическом диске — только по индексу.
```
select volume[=n/l]
```
Команда select volume служит для перемещения фокуса на указанный том. Если том не указан, отображается текущий том в фокусе.

Том можно указать по индексу, букве диска или пути к точке подключения. При выборе тома на базовом диске фокус перемещается на соответствующий раздел.

# Отображение конфигурации дисков

Для получения общих сведений служит команда list, а чтобы отобразить более подробную информацию, установите фокус и воспользуйтесь командой detail.
```
detail disk
```
Вывод подробной информации о диске в фокусе. Например:
```
Diskpart> select disk 3 
  
Выбран диск 3. 
  
Diskpart> detail disk 
  
Maxtor 90432D2
Код диска: F549D151
Тип   : IDE
Шина    : 0
Конечный : 0
LUN ID : 0 
  
  Том ###  Имя  Метка        ФС     Тип              Размер     Состояние     Сведения 
  ----------  ---  -----------  -----  ----------------  -------  ---------  -------- 
  Том 0     F   My RAID Set  NTFS   RAID-5            4096 МБ  Исправен 
  Том 1     G   FATSTRIPE    FAT32  Чередующийся том  6144 МБ  Исправен 
  Том 2     H   My Mirror    NTFS   Зеркальный том    2048 МБ  Исправен
  Том 3     I   My Span      NTFS   Составной том        9 ГБ  Исправен
```
detail partition

Вывод подробной информации о разделе в фокусе:
```
Diskpart> select disk 0

Выбран диск 0.

Diskpart> select partition 1

Выбран раздел 1.

Diskpart> detail partition

Раздел 0
Тип: 07
Скрытый: Нет
Активный: Да

  Том ###  Имя  Метка        ФС     Тип              Размер     Состояние     Сведения
  ----------  ---  -----------  -----  ----------  -------  ---------  --------
* Том 2    C                 NTFS   Раздел   4110 МБ  Исправен    Системный
```
detail volume

Вывод подробной информации о томе в фокусе. Например:
```
Diskpart> select volume 1 
  
Выбран том 1. 
  
Diskpart> detail volume 
  
  Диск ###  Состояние      Размер     Свободно     Дин  Gpt 
  --------  ----------  -------  -------  ---  --- 
  Диск 1    Подключен         8 МБ      0 B   * 
  Диск 2    Подключен         8 МБ      0 B   * 
  Диск 3    Подключен         8 МБ      0 B   *
```

list disk

Команда list disk служит для получения общих сведений о каждом установленном на компьютере диске. Диск, отмеченный звездочкой (*), находится в фокусе. Перечисляются только жесткие (например, стандарта IDE и SCSI) и съемные (например, стандарта 1394 и USB) диски. Съемные носители в списке не отображаются.
```
Diskpart> select disk 3 
  
Выбран диск 3. 
  
Diskpart> list disk 
  
  
  Диск ###  Состояние      Размер     Свободно     Дин  Gpt 
  --------  ----------  -------  -------  ---  ---
  Диск 0    Подключен      4118 МБ      0 B
  Диск 1    Подключен         8 GB  4002 МБ   * 
  Диск 2    Подключен         8 МБ      0 B   * 
* Диск 3    Подключен         8 МБ      0 B   * 
  Диск М0   Отсутствует       8 МБ      0 B   *
				
```

list partition

Команда list partition служит для получения сведений о каждом разделе на выбранном диске. Например:
```
Diskpart> select disk 4 
  
Выбран диск 4. 
  
Diskpart> list partition 
  
  Раздел ###  Тип              Размер     Смещение 
  -------------  ----------------  -------  ------- 
  Раздел 1    Основной           4094 МБ    31 КБ 
  Раздел 2    Расширенный        4581 МБ  4094 МБ 
  Раздел 3    Логический         2047 МБ  4094 МБ 
  Раздел 4    Логический         2533 МБ  6142 МБ
 
Отображаются все разделы, независимо от типа.
```
list volume

Команда list volume служит для получения сведений о каждом томе на компьютере. Например:

```
Diskpart> list volume 
  
  Том ###  Имя  Метка        ФС     Тип              Размер     Состояние     Сведения 
  ----------  ---  -----------  -----  ----------------  -------  ----------  --------
  Том 0     F   My RAID Set  NTFS   RAID-5            4096 МБ  Исправен
  Том 1     G   FATSTRIPE    FAT32  Чередующийся том  6144 МБ  Неисправен
  Том 2     H   My Mirror    NTFS   Зеркальный том    2048 МБ  Исправен
  Том 3     I   My Span      NTFS   Составной том        9 ГБ  Исправен
  Том 4     D                CDFS   CD-ROM                0 Б
  Том 5     C                NTFS   Раздел            2047 МБ  Исправен    Системный
  Том 6     Е                NTFS   Раздел            2063 МБ  Исправен    Загрузочный
  Том 7     J   My Primary   NTFS   Раздел            4095 МБ  Исправен
  Том 8     K   My Logical   NTFS   Раздел            2047 МБ  Исправен
  Том 9     L   My Next Log  NTFS   Раздел            2534 МБ  Исправен
```
# Управление базовыми дисками

В этом разделе рассмотрены команды, которые используются для создания и удаления разделов, а также назначения букв дисков и точек подключения. Эти команды могут быть выполнены только по отношению к базовым дискам. Команды, которые используются с динамическими дисками, а также для преобразования базовых дисков в динамические, описаны в следующих разделах.

На MBR-дисках параметры size и offset округляются в соответствии с конфигурацией цилиндров. На GPT-дисках параметры size и offset округляются в соответствии с конфигурацией секторов. Если параметр offset не указан, раздел размещается в первой непрерывной незанятой области, имеющей достаточный размер. Если параметр size не указан, раздел может занять все пространство на выбранном диске.

При первом обнаружении новые диски считаются MBR-дисками. Перед созданием раздела GPT диск необходимо явно преобразовать в формат GPT. MSR-раздел рекомендуется создавать первым на диске с данными и вторым (после ESP) на системном или загрузочном диске. После преобразования MBR-диска в формат GPT MSR-раздел создается автоматически. 

Фокус всегда перемещается на созданный раздел. Удаление любого раздела приводит к потере фокуса. Фокус диска в любом случае не меняется.

active 

Пометка имеющего фокус раздела на базовом диске как активного. Эта информация указывает встроенному ПО, что раздел является действительным системным разделом. Программа DiskPart не проверяет содержимое раздела. 

Примечание. В результате неправильного использования этой команды компьютер может не загрузиться. 

assign [[letter=l]/[mount=путь]] [noerr]

Назначение буквы диска или точки подключения разделу в фокусе. Если буква диска не указана, используется следующая доступная буква. Если буква диска или точка подключения уже используются и не указан параметр noerr, возникает ошибка.

Команда может быть использована для изменения буквы, назначенной съемному носителю. 

Нельзя назначить букву диска системному тому, загрузочному тому или тому, который содержит файл подкачки. Кроме того, буква диска не может быть назначена OEM-разделу или GPT-разделу, отличному от раздела Msdata.

create partition primary [size=n] [offset=n] [id=байт/guid] [noerr]

Создание на текущем диске основного раздела указанного размера и с указанным смещением начального адреса.

Если байт ИД раздела на MBR-диске не задан, команда создает раздел типа 0x6. Параметр ID служит для указания типа раздела. Проверка допустимости байта типа раздела или другие проверки параметра ID не производятся.

Если идентификатор GUID типа раздела на GPT-диске не задан, команда создает раздел MSDATA. С помощью параметра ID может быть задан любой идентификатор GUID. Команда DiskPart не выполняет проверку на допустимость, уникальность (или иную проверку) идентификатора GUID. Идентификатор GUID экземпляра раздела создается автоматически.

Операционная система Windows не назначает буквы дисков созданным разделам MBR и GPT автоматически. Это необходимо сделать самостоятельно.

create partition extended [size=n] [offset=n] [noerr]

Создание на текущем диске дополнительного раздела указанного размера и с указанным смещением начального адреса. Диск должен иметь формат MBR.

После создания раздела фокус автоматически перемещается на этот раздел. На диске можно создать только один дополнительный раздел. Логические диски могут быть созданы только после дополнительного раздела.

create partition logical [size=n] [offset=n] [noerr]

Создание в существующем дополнительном разделе на текущем диске логического диска указанного размера и с указанным смещением начального адреса. Диск должен иметь формат MBR. 

Если смещение не указано, логический диск размещается в первой непрерывной незанятой области дополнительного диска, имеющей достаточный размер. Если размер не указан, раздел занимает все свободное пространство дополнительного раздела.

После создания раздела фокус автоматически перемещается на новый логический диск.

create partition msr [size=n] [offset=n] [noerr]

Выполнение команды create partition msr равнозначно созданию раздела с идентификатором MSR GUID E3C9E316-0B5C-4DB8-817D-F92DF00215AE.

create partition esp [size=n] [offset=n] [noerr]

Выполнение команды create partition esp равнозначно созданию раздела с идентификатором ESP GUID C12A7328-F81F-11D2-BA4B-00A0C93EC93B.

delete partition [noerr] [override]

Команда delete partition служит для удаления раздела в фокусе.

Нельзя удалить системный раздел, загрузочный раздел, а также раздел, содержащий файл подкачки. Чтобы удалить раздел ESP, MSR или известный раздел OEM, необходимо указать параметр override.

extend [size=n] [noerr] 

Расширение тома в фокусе на смежное невыделенное пространство. Невыделенная область должна находиться на том же диске и следовать (иметь более высокое смещение) за разделом в фокусе. С помощью этой команды существующий базовый раздел данных может быть расширен за счет созданного пространства массива RAID.

Если раздел был ранее отформатирован с использованием файловой системы NTFS, файловая система автоматически расширяется на увеличенный раздел без потери существующих данных. Если раздел был ранее отформатирован с использованием другой файловой системы (отличной от NTFS), выполнение команды завершается неудачно (и без изменения раздела).

Невозможно расширить текущий системный или загрузочный разделы.

remove [[letter=l]/[mount=путь]/[all]] [noerr]

Удаление буквы диска или точки подключения для раздела в фокусе. Если используется параметр all, удаляются все текущие буквы дисков и точки подключения. Если буква диска или точка подключения не указаны, удаляется следующая доступная буква.

Команда может быть использована для изменения буквы, назначенной съемному носителю.

Не допускается удаление буквы диска для системного и загрузочного тома, а также для тома, содержащего файл подкачки. Кроме того, не допускается удаление букв диска OEM-разделов, любых GPT-разделов с нераспознанным идентификатором GUID, а также специальных не содержащих данных GPT-разделов, например разделов ESP.

# Управление динамическими дисками

Рассмотренные в этом разделе команды используются для создания и удаления томов, восстановления отказоустойчивых томов, а также для импорта дисков.

Значение параметра size округляется в МБ. Указать смещение нельзя. Том всегда размещается в первой непрерывной незанятой области диска, имеющей достаточный размер. Если размер не указан, создается том максимально возможного размера.

Фокус перемещается на созданный том. Если том располагается на нескольких дисках, текущий фокус диска теряется. Удаление тома приводит к потере фокуса тома. Если фокус диска был установлен перед удалением тома, он сохраняется.

Примечание. Программа Diskpart создает MSR-раздел на каждом пустом диске, который преобразуется в динамический диск или в формат GPT.

active 

Пометка имеющего фокус тома как активного. Эта информация указывает встроенному ПО, что раздел является действительным системным разделом. Программа DiskPart проверяет раздел только на допустимость нахождения на нем загрузочного образа операционной системы и не проверяет содержимое раздела. В результате неправильного использования этой команды компьютер может не загрузиться.

add disk=n [noerr]

Команда add служит для добавления на указанный диск зеркальной копии тома в фокусе. Поддерживается только две зеркальных копии. Выбранный том должен быть простым томом.

assign [[letter=l]/[mount=путь]] [noerr]

Назначение буквы диска или точки подключения тому в фокусе. Если буква диска не указана, используется следующая доступная буква. Если буква диска или точка подключения уже используются и не указан параметр noerr, возникает ошибка.

Нельзя назначить букву диска системному тому, загрузочному тому или тому, который содержит файл подкачки.

break disk=n [nokeep] [noerr]

Разбивает зеркальный том в фокусе.

По умолчанию содержимое обеих половин зеркала сохраняется. Каждая половина становится простым томом. Если задан параметр nokeep, сохраняется только указанная половина зеркала, а другая удаляется и преобразуется в свободное пространство.

Исходный том сохраняет все буквы диска или точки подключения. Если половина зеркала не сохраняется, фокус остается на оставшемся простом томе на указанном диске. В противном случае фокус перемещается на указанную половину зеркала. Половина зеркала становится простым томом без назначения буквы диска.

create volume simple [size=n] [disk=n] [noerr]

Команда create volume simple служит для создания простого тома указанного размера на определенном диске.

Если размер не задан, новый том занимает все свободное место на диске. Если диск не задан, используется диск в фокусе.

После создания тома фокус автоматически перемещается на этот том.

create volume stripe [size=n] disk=n[,n[,...]] [noerr]

Команда create volume stripe служит для создания чередующегося тома на указанных дисках. Общий размер чередующегося тома равен указанному размеру, помноженному на число дисков.

Если размер не задан, создается чередующийся том максимально возможного размера. Определяется диск с наименьшим доступным непрерывным свободным пространством, в соответствии с размером которого и создается чередующийся том. Пространство такого же размера выделяется на каждом последующем диске.

create volume raid [size=n] disk=n[,n[,...]] [noerr]

Команда create volume raid служит для создания тома RAID-5 на указанных дисках. На каждом диске выделяется пространство указанного в параметре size размера.

Если размер не указан, создается том RAID-5 максимального возможного размера. Определяется диск с наименьшим доступным непрерывным свободным пространством, в соответствии с размером которого и создается том RAID-5. Пространство того же размера выделяется на каждом диске. Фактический объем доступного дискового пространства на томе RAID-5 меньше суммы занятого дискового пространства, поскольку некоторая его часть требуется для четности.

delete disk [noerr] [override]

Команда delete disk служит для удаления отсутствующего динамического диска из списка дисков.

Если параметр override не задан, удаляются все простые тома и половины зеркальных томов на диске. Если часть диска входит в том RAID-5, команда не выполняется.

delete partition [noerr] [override]

Команда delete partition служит для удаления раздела в фокусе.

Невозможно удалить разделы, которые содержат существующие подключенные динамические тома. Необходимо предварительно удалить такие тома и преобразовать диск в базовый. Чтобы удалить раздел ESP, MSR или известный раздел OEM, необходимо указать параметр override.

Разделы динамических дисков можно только удалять, но не создавать. Например, можно удалить нераспознанный GPT-раздел на динамическом GPT-диске. Доступ к освобожденному после удаления пространству отсутствует. Данная команда позволяет восстановить пространство поврежденного автономного динамического диска в аварийной ситуации, когда нельзя воспользоваться командой clean.

delete volume [noerr]

Команда delete volume служит для удаления тома в фокусе. Выполнение команды приводит к потере всех данных.

extend disk=n [size=n] [noerr]

Команда extend служит для расширения текущего простого или расширенного тома на указанный диск. Команда предназначена для использования только с томами с файловой системой NTFS.

Если размер не указан, том может занять все свободное пространство на указанном диске. Существующий фокус диска теряется.

import [noerr]

Команда import служит для импорта всех дисков из внешней группы.

Импортируется каждый диск, находящийся в одной группе с диском, имеющим фокус. После выполнения команды текущий фокус диска или тома теряется.

online [noerr]

Подключение отключенного ранее диска или тома. Выполнение команды не приводит к перемещению фокуса.

remove [[letter=l]/[mount=путь]/[all]] [noerr]

Удаление буквы диска или точки подключения тома в фокусе. Если используется параметр all, удаляются все текущие буквы дисков и точки подключения. Если буква диска или точка подключения не указаны, удаляется следующий доступный путь.

Не допускается удаление буквы диска для системного и загрузочного тома, а также для тома, содержащего файл подкачки.

retain

Подготовка существующего динамического простого тома к использованию в качестве загрузочного или системного тома.

В компьютерах на базе процессоров x86 — создание MBR-раздела на динамическом простом томе, имеющем фокус. Для создания MBR-раздела динамический простой том должен начинаться со смещения, выровненного по цилиндру, а его размер должен быть кратен размеру цилиндра.

В компьютерах на базе процессоров Itanium выполнение команды retain приводит к созданию GPT-раздела на динамическом простом томе, имеющем фокус.

# Преобразование дисков

onvert mbr [noerr]

Команда convert mbr служит для преобразования стиля разделов текущего диска в формат MBR. Диск может быть базовым или динамическим, но не должен содержать разделов или томов с данными.

convert gpt [noerr]

Команда convert gpt служит для преобразования стиля разделов текущего диска в формат GPT. Диск может быть базовым или динамическим, но не должен содержать разделов или томов с данными. Команда предназначена для выполнения на компьютерах с процессором Itanium. Запуск команды на компьютере с архитектурой х86 может завершиться неудачно.

convert dynamic [noerr]

Преобразование базового диска в динамический. Диск может содержать разделы с данными.

convert basic [noerr]

Преобразование пустого динамического диска в базовый.

# Прочие команды

exit

Команда exit служит для завершения программы Diskpart и передачи управления операционной системе.

clean [all]

Удаление всех разделов или томов на диске, имеющем фокус, путем обнуления секторов. По умолчанию переопределяются только сведения о разделах MBR и GPT, а также данные в скрытых секторах на MBR-дисках. Задание параметра all приводит к обнулению всех секторов, в результате чего удаляются все содержащиеся на диске данные.

rem [...]

Команда rem не выполняет каких-либо действий, а служит для вставки комментариев в сценарии.

rescan

Проверка всех шин ввода-вывода и поиск новых дисков, добавленных в компьютер.

# Справка

help

Для отображения списка доступных команд служит команда help.

Для получения дополнительных сведений о программе Diskpart откройте Центр справки и поддержки Windows XP и выполните поиск по термину Diskpart.







